<!DOCTYPE html>
<html>
  <head>
    <meta charSet="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Lato:300,400,700&display=swap"
      rel="stylesheet"
    ></link>
    <link
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/js/bootstrap.bundle.min.js"></script>
  </head>
  <body>
    <div class="container bg-faded py-3">
      <div class="row">
        <h1 class="display-1 text-center">
          Below should be all your playlists!
        </h1>
      </div>
      <div class="row justify-content-center">
        <ul class="list-group">
        </ul>
      </div>
    </div>
    <script>
      fetch('/api/v1/spotify/playlists')
        .then(data => data.json())
        .then(data => {
          const list = document.querySelector('.list-group');
          console.log(data);
          data.items.map(item => {
            const newChild = document.createElement('a');
            newChild.setAttribute('class', 'list-group-item list-group-item-action');
            newChild.setAttribute('href', '/api/v1/spotify/playlists/' + item.id);
            newChild.innerHTML = item.name;
            list.appendChild(newChild);
          });
        });
    
    </script>
  </body>
</html>